<!DOCTYPE html>
<html>
<head>
  <title>Issues</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss/dist/tailwind.min.css" rel="stylesheet">
  <style>
    {% include 'css/styles.css' %}
  </style>
</head>
<body>
  <div page>
    <h1 title >Issues</h1>
    <div container>
        <ul header>
          <div title_group >

            {% set col_name = "title" %}
            {% include "chunks/column_header.html" %}

            {% set col_name = "url" %}
            {% include "chunks/column_header.html" %}

          </div>

          <div body_cell>
            {% set col_name = "body" %}
            {% include "chunks/column_header.html" %}

          </div>

          {% set col_name = "labels" %}
          {% include "chunks/column_header.html" %}

          {% set col_name = "comments" %}
          {% include "chunks/column_header.html" %}

          {% for key,tag in all_tags %}
            {% set col_name = tag.name %}
            {% set col_options = tag.values %}
            {% include "chunks/column_header.html" %}
          {% endfor %}
        </ul>
      <!-- Rows below -->
      {% if issues[0] %}
        {% for issue in issues %}
          {# to give different color depending of the row number#}
          {% if loop.index % 2 == 0 %}
          <article pair_row  >

          {% else %}
          <article odd_row  >

          {% endif %}
            <div title_group >
              <div cell data_label="Title">
                <h2 title>{{ issue.title }}</h2> <!-- Title  -->
              </div>

              <div cell data_label="URL">
                <div > <!-- URL   -->
                  <a html_url target="_blank" href="{{issue.html_url}}">{{issue.html_url}}</a>
                </div>
              </div>

            </div>

            <div body_cell >
              <div cell  data_label="Body">
              {% if issue.body %}
                <p body > {{ issue.body }} </p> <!-- Body  -->

                <input hidden id="{{issue.id}}_body" type="checkbox">
                <label shadow for="{{issue.id}}_body"></label>

                <div cont_modal>
                  <div modal data_label="Body">
                    <p> {{ issue.body }} </p> <!-- Body  -->

                  </div>
                </div>
                <label show_more for="{{issue.id}}_body">Show More</label>
              {% endif %}

              </div>
            </div>

            <div cell  data_label="Labels">
              <ul labels> <!-- Labels  -->
                {% for name, value in issue.tags %}
                  <li>
                    <strong>{{name}}</strong>: {{value}}
                  </li>
                {% endfor %}
              </ul>
            </div>

            <div cell data_label="Comments">
              <div>
                {% if issue.el_comments %}
                <ul comments>
                  {% for comment in issue.el_comments %}
                    <li>
                      <strong>{{comment.author}}</strong>: {{comment.body}}
                    </li>
                    <br>

                  {% endfor %}

                </ul>
                <input hidden id="{{issue.id}}_comments" type="checkbox">
                <label shadow for="{{issue.id}}_comments"></label>

                <div cont_modal>
                  <div modal data_label="comments">
                    <ul>
                      {% for comment in issue.el_comments %}
                        <li>
                          <strong>{{comment.author}}</strong>: {{comment.body}}
                        </li>
                        <br>

                      {% endfor %}
                    </ul>
                  </div>
                </div>
                <label show_more for="{{issue.id}}_comments">Show More</label>

                {% endif %}
              </div>
            </div>

            {% for key, tag in all_tags %}
              <div cell data_label="{{tag.name | capitalize }}">
                {% if issue.tags[tag.name] %}
                  <strong>{{issue.tags[tag.name]}}</strong>
                {% else %}
                  <strong>----</strong>

                {% endif %}
              </div>
            {% endfor %}
          </article>
        {% endfor %}
      {% endif %}
    </div>
  </div>

</body>
</html>